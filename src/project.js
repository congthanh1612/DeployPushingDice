window.__require=function t(e,n,i){function o(s,c){if(!n[s]){if(!e[s]){var a=s.split("/");if(a=a[a.length-1],!e[a]){var l="function"==typeof __require&&__require;if(!c&&l)return l(a,!0);if(r)return r(a,!0);throw new Error("Cannot find module '"+s+"'")}}var u=n[s]={exports:{}};e[s][0].call(u.exports,function(t){return o(e[s][1][t]||t)},u,u.exports,t,e,n,i)}return n[s].exports}for(var r="function"==typeof __require&&__require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,e,n){var i=t("util/"),o=Array.prototype.slice,r=Object.prototype.hasOwnProperty,s=e.exports=h;function c(t,e){return i.isUndefined(e)?""+e:i.isNumber(e)&&!isFinite(e)?e.toString():i.isFunction(e)||i.isRegExp(e)?e.toString():e}function a(t,e){return i.isString(t)?t.length<e?t:t.slice(0,e):t}function l(t){return a(JSON.stringify(t.actual,c),128)+" "+t.operator+" "+a(JSON.stringify(t.expected,c),128)}function u(t,e,n,i,o){throw new s.AssertionError({message:n,actual:t,expected:e,operator:i,stackStartFunction:o})}function h(t,e){t||u(t,!0,e,"==",s.ok)}function p(t,e){if(t===e)return!0;if(i.isBuffer(t)&&i.isBuffer(e)){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return i.isDate(t)&&i.isDate(e)?t.getTime()===e.getTime():i.isRegExp(t)&&i.isRegExp(e)?t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase:i.isObject(t)||i.isObject(e)?f(t,e):t==e}function d(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function f(t,e){if(i.isNullOrUndefined(t)||i.isNullOrUndefined(e))return!1;if(t.prototype!==e.prototype)return!1;if(i.isPrimitive(t)||i.isPrimitive(e))return t===e;var n=d(t),r=d(e);if(n&&!r||!n&&r)return!1;if(n)return p(t=o.call(t),e=o.call(e));var s,c,a=v(t),l=v(e);if(a.length!=l.length)return!1;for(a.sort(),l.sort(),c=a.length-1;c>=0;c--)if(a[c]!=l[c])return!1;for(c=a.length-1;c>=0;c--)if(!p(t[s=a[c]],e[s]))return!1;return!0}function m(t,e){return!(!t||!e)&&("[object RegExp]"==Object.prototype.toString.call(e)?e.test(t):t instanceof e||!0===e.call({},t))}function g(t,e,n,o){var r;i.isString(n)&&(o=n,n=null);try{e()}catch(t){r=t}if(o=(n&&n.name?" ("+n.name+").":".")+(o?" "+o:"."),t&&!r&&u(r,n,"Missing expected exception"+o),!t&&m(r,n)&&u(r,n,"Got unwanted exception"+o),t&&r&&n&&!m(r,n)||!t&&r)throw r}s.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=l(this),this.generatedMessage=!0);var e=t.stackStartFunction||u;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var n=new Error;if(n.stack){var i=n.stack,o=e.name,r=i.indexOf("\n"+o);if(r>=0){var s=i.indexOf("\n",r+1);i=i.substring(s+1)}this.stack=i}}},i.inherits(s.AssertionError,Error),s.fail=u,s.ok=h,s.equal=function(t,e,n){t!=e&&u(t,e,n,"==",s.equal)},s.notEqual=function(t,e,n){t==e&&u(t,e,n,"!=",s.notEqual)},s.deepEqual=function(t,e,n){p(t,e)||u(t,e,n,"deepEqual",s.deepEqual)},s.notDeepEqual=function(t,e,n){p(t,e)&&u(t,e,n,"notDeepEqual",s.notDeepEqual)},s.strictEqual=function(t,e,n){t!==e&&u(t,e,n,"===",s.strictEqual)},s.notStrictEqual=function(t,e,n){t===e&&u(t,e,n,"!==",s.notStrictEqual)},s.throws=function(t,e,n){g.apply(this,[!0].concat(o.call(arguments)))},s.doesNotThrow=function(t,e){g.apply(this,[!1].concat(o.call(arguments)))},s.ifError=function(t){if(t)throw t};var v=Object.keys||function(t){var e=[];for(var n in t)r.call(t,n)&&e.push(n);return e}},{"util/":4}],2:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],3:[function(t,e,n){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],4:[function(t,e,n){(function(e,i){var o=/%[sdj%]/g;n.format=function(t){if(!w(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(c(arguments[n]));return e.join(" ")}n=1;for(var i=arguments,r=i.length,s=String(t).replace(o,function(t){if("%%"===t)return"%";if(n>=r)return t;switch(t){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(t){return"[Circular]"}default:return t}}),a=i[n];n<r;a=i[++n])y(a)||!B(a)?s+=" "+a:s+=" "+c(a);return s},n.deprecate=function(t,o){if(C(i.process))return function(){return n.deprecate(t,o).apply(this,arguments)};if(!0===e.noDeprecation)return t;var r=!1;return function(){if(!r){if(e.throwDeprecation)throw new Error(o);e.traceDeprecation?console.trace(o):console.error(o),r=!0}return t.apply(this,arguments)}};var r,s={};function c(t,e){var i={seen:[],stylize:l};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),S(e)?i.showHidden=e:e&&n._extend(i,e),C(i.showHidden)&&(i.showHidden=!1),C(i.depth)&&(i.depth=2),C(i.colors)&&(i.colors=!1),C(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=a),h(i,t,i.depth)}function a(t,e){var n=c.styles[e];return n?"\x1b["+c.colors[n][0]+"m"+t+"\x1b["+c.colors[n][1]+"m":t}function l(t,e){return t}function u(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function h(t,e,i){if(t.customInspect&&e&&M(e.inspect)&&e.inspect!==n.inspect&&(!e.constructor||e.constructor.prototype!==e)){var o=e.inspect(i,t);return w(o)||(o=h(t,o,i)),o}var r=p(t,e);if(r)return r;var s=Object.keys(e),c=u(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),_(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return d(e);if(0===s.length){if(M(e)){var a=e.name?": "+e.name:"";return t.stylize("[Function"+a+"]","special")}if(E(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(L(e))return t.stylize(Date.prototype.toString.call(e),"date");if(_(e))return d(e)}var l,S="",y=!1,b=["{","}"];(v(e)&&(y=!0,b=["[","]"]),M(e))&&(S=" [Function"+(e.name?": "+e.name:"")+"]");return E(e)&&(S=" "+RegExp.prototype.toString.call(e)),L(e)&&(S=" "+Date.prototype.toUTCString.call(e)),_(e)&&(S=" "+d(e)),0!==s.length||y&&0!=e.length?i<0?E(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),l=y?f(t,e,i,c,s):s.map(function(n){return m(t,e,i,c,n,y)}),t.seen.pop(),g(l,S,b)):b[0]+S+b[1]}function p(t,e){if(C(e))return t.stylize("undefined","undefined");if(w(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return b(e)?t.stylize(""+e,"number"):S(e)?t.stylize(""+e,"boolean"):y(e)?t.stylize("null","null"):void 0}function d(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,i,o){for(var r=[],s=0,c=e.length;s<c;++s)O(e,String(s))?r.push(m(t,e,n,i,String(s),!0)):r.push("");return o.forEach(function(o){o.match(/^\d+$/)||r.push(m(t,e,n,i,o,!0))}),r}function m(t,e,n,i,o,r){var s,c,a;if((a=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?c=a.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):a.set&&(c=t.stylize("[Setter]","special")),O(i,o)||(s="["+o+"]"),c||(t.seen.indexOf(a.value)<0?(c=y(n)?h(t,a.value,null):h(t,a.value,n-1)).indexOf("\n")>-1&&(c=r?c.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+c.split("\n").map(function(t){return"   "+t}).join("\n")):c=t.stylize("[Circular]","special")),C(s)){if(r&&o.match(/^\d+$/))return c;(s=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+c}function g(t,e,n){return t.reduce(function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function v(t){return Array.isArray(t)}function S(t){return"boolean"==typeof t}function y(t){return null===t}function b(t){return"number"==typeof t}function w(t){return"string"==typeof t}function C(t){return void 0===t}function E(t){return B(t)&&"[object RegExp]"===k(t)}function B(t){return"object"==typeof t&&null!==t}function L(t){return B(t)&&"[object Date]"===k(t)}function _(t){return B(t)&&("[object Error]"===k(t)||t instanceof Error)}function M(t){return"function"==typeof t}function k(t){return Object.prototype.toString.call(t)}function F(t){return t<10?"0"+t.toString(10):t.toString(10)}n.debuglog=function(t){if(C(r)&&(r=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!s[t])if(new RegExp("\\b"+t+"\\b","i").test(r)){var i=e.pid;s[t]=function(){var e=n.format.apply(n,arguments);console.error("%s %d: %s",t,i,e)}}else s[t]=function(){};return s[t]},n.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=v,n.isBoolean=S,n.isNull=y,n.isNullOrUndefined=function(t){return null==t},n.isNumber=b,n.isString=w,n.isSymbol=function(t){return"symbol"==typeof t},n.isUndefined=C,n.isRegExp=E,n.isObject=B,n.isDate=L,n.isError=_,n.isFunction=M,n.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},n.isBuffer=t("./support/isBuffer");var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function D(){var t=new Date,e=[F(t.getHours()),F(t.getMinutes()),F(t.getSeconds())].join(":");return[t.getDate(),R[t.getMonth()],e].join(" ")}function O(t,e){return Object.prototype.hasOwnProperty.call(t,e)}n.log=function(){console.log("%s - %s",D(),n.format.apply(n,arguments))},n.inherits=t("inherits"),n._extend=function(t,e){if(!e||!B(e))return t;for(var n=Object.keys(e),i=n.length;i--;)t[n[i]]=e[n[i]];return t}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":3,_process:9,inherits:2}],5:[function(t,e,n){(function(n){var i,o=t("util"),r=t("assert"),s=t("date-now"),c=Array.prototype.slice,a={};i=void 0!==n&&n.console?n.console:"undefined"!=typeof window&&window.console?window.console:{};for(var l=[[function(){},"log"],[function(){i.log.apply(i,arguments)},"info"],[function(){i.log.apply(i,arguments)},"warn"],[function(){i.warn.apply(i,arguments)},"error"],[function(t){a[t]=s()},"time"],[function(t){var e=a[t];if(!e)throw new Error("No such label: "+t);var n=s()-e;i.log(t+": "+n+"ms")},"timeEnd"],[function(){var t=new Error;t.name="Trace",t.message=o.format.apply(null,arguments),i.error(t.stack)},"trace"],[function(t){i.log(o.inspect(t)+"\n")},"dir"],[function(t){if(!t){var e=c.call(arguments,1);r.ok(!1,o.format.apply(null,e))}},"assert"]],u=0;u<l.length;u++){var h=l[u],p=h[0],d=h[1];i[d]||(i[d]=p)}e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{assert:1,"date-now":6,util:12}],6:[function(t,e,n){e.exports=function(){return(new Date).getTime()}},{}],7:[function(t,e,n){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(t){return"function"==typeof t}function r(t){return"number"==typeof t}function s(t){return"object"==typeof t&&null!==t}function c(t){return void 0===t}e.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(t){if(!r(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},i.prototype.emit=function(t){var e,n,i,r,a,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var u=new Error('Uncaught, unspecified "error" event. ('+e+")");throw u.context=e,u}if(c(n=this._events[t]))return!1;if(o(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:r=Array.prototype.slice.call(arguments,1),n.apply(this,r)}else if(s(n))for(r=Array.prototype.slice.call(arguments,1),i=(l=n.slice()).length,a=0;a<i;a++)l[a].apply(this,r);return!0},i.prototype.addListener=function(t,e){var n;if(!o(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,o(e.listener)?e.listener:e),this._events[t]?s(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,s(this._events[t])&&!this._events[t].warned&&(n=c(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(t,e){if(!o(e))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(t,i),n||(n=!0,e.apply(this,arguments))}return i.listener=e,this.on(t,i),this},i.prototype.removeListener=function(t,e){var n,i,r,c;if(!o(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(r=(n=this._events[t]).length,i=-1,n===e||o(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(s(n)){for(c=r;c-- >0;)if(n[c]===e||n[c].listener&&n[c].listener===e){i=c;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},i.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(o(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},i.prototype.listeners=function(t){return this._events&&this._events[t]?o(this._events[t])?[this._events[t]]:this._events[t].slice():[]},i.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(o(e))return 1;if(e)return e.length}return 0},i.listenerCount=function(t,e){return t.listenerCount(e)}},{}],8:[function(t,e,n){n.endianness=function(){return"LE"},n.hostname=function(){return"undefined"!=typeof location?location.hostname:""},n.loadavg=function(){return[]},n.uptime=function(){return 0},n.freemem=function(){return Number.MAX_VALUE},n.totalmem=function(){return Number.MAX_VALUE},n.cpus=function(){return[]},n.type=function(){return"Browser"},n.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},n.networkInterfaces=n.getNetworkInterfaces=function(){return{}},n.arch=function(){return"javascript"},n.platform=function(){return"browser"},n.tmpdir=n.tmpDir=function(){return"/tmp"},n.EOL="\n"},{}],9:[function(t,e,n){var i,o,r=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function a(t){if(i===setTimeout)return setTimeout(t,0);if((i===s||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}function l(t){if(o===clearTimeout)return clearTimeout(t);if((o===c||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{return o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(function(){try{i="function"==typeof setTimeout?setTimeout:s}catch(t){i=s}try{o="function"==typeof clearTimeout?clearTimeout:c}catch(t){o=c}})();var u,h=[],p=!1,d=-1;function f(){p&&u&&(p=!1,u.length?h=u.concat(h):d=-1,h.length&&m())}function m(){if(!p){var t=a(f);p=!0;for(var e=h.length;e;){for(u=h,h=[];++d<e;)u&&u[d].run();d=-1,e=h.length}u=null,p=!1,l(t)}}function g(t,e){this.fun=t,this.array=e}function v(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];h.push(new g(t,e)),1!==h.length||p||a(m)},g.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=v,r.addListener=v,r.once=v,r.off=v,r.removeListener=v,r.removeAllListeners=v,r.emit=v,r.prependListener=v,r.prependOnceListener=v,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},{}],10:[function(t,e,n){arguments[4][2][0].apply(n,arguments)},{dup:2}],11:[function(t,e,n){arguments[4][3][0].apply(n,arguments)},{dup:3}],12:[function(t,e,n){arguments[4][4][0].apply(n,arguments)},{"./support/isBuffer":11,_process:9,dup:4,inherits:10}],BtnDirection:[function(t,e,n){"use strict";cc._RF.push(e,"26fe7EoWvxAX5jTv1SwstBO","BtnDirection");var i=t("./otherProcessing.js"),o=1,r=2,s=3,c=4;cc.Class({extends:cc.Component,properties:{btnLeft:cc.Node,btnRight:cc.Node,btnUp:cc.Node,btnDown:cc.Node},onLoad:function(){this.node.on("UPDATE_BTN_CONTROLLER",this.updateBtnController,this),this.node.on("UPDATE_DICE_NUMBER",this.updateDiceNumber,this),this.node.on("UPDATE_DICE_COLOR",this.updateColorBtn,this),cc.log("asdas",this.btnLeft)},updateBtnController:function(t,e,n,o){var r=0===t.col,s=t.col===e-1,c=0===t.row,a=t.row===n-1,l=[t.row,t.col];0==r&&(0,i.checkArrayInArray2D)(l,o.wallLeft)&&(r=!0),0==s&&(0,i.checkArrayInArray2D)(l,o.wallRight)&&(s=!0),0==c&&(0,i.checkArrayInArray2D)(l,o.wallTop)&&(c=!0),0==a&&(0,i.checkArrayInArray2D)(l,o.wallBottom)&&(a=!0),this.btnLeft.active=!r,this.btnRight.active=!s,this.btnUp.active=!c,this.btnDown.active=!a},updateDiceNumber:function(t,e){switch(Number(e)){case o:this.btnLeft.getComponentInChildren(cc.Label).string=t;break;case r:this.btnRight.getComponentInChildren(cc.Label).string=t;break;case s:this.btnUp.getComponentInChildren(cc.Label).string=t;break;case c:this.btnDown.getComponentInChildren(cc.Label).string=t}},updateColorBtn:function(t,e,n,i){var a=new cc.Color(0,255,224,255);this.btnLeft.color=a,this.btnRight.color=a,this.btnUp.color=a,this.btnDown.color=a;var l=t.col-1==e.col&&t.row==e.row,u=t.col+1==e.col&&t.row==e.row,h=t.row-1==e.row&&t.col==e.col,p=t.row+1==e.row&&t.col==e.col;l?this.btnLeft.color=n[o-1]==i?cc.Color.GREEN:cc.Color.RED:u?this.btnRight.color=n[r-1]==i?cc.Color.GREEN:cc.Color.RED:h?this.btnUp.color=n[s-1]==i?cc.Color.GREEN:cc.Color.RED:p&&(this.btnDown.color=n[c-1]==i?cc.Color.GREEN:cc.Color.RED)}}),cc._RF.pop()},{"./otherProcessing.js":"otherProcessing"}],DiceController:[function(t,e,n){"use strict";cc._RF.push(e,"98b1eQERldKvqx9ue0qUofo","DiceController");var i=t("Dice"),o=(t("Map"),t("mEmitter")),r=1,s=2,c=3,a=4;cc.Class({extends:cc.Component,properties:{atlas:cc.SpriteAtlas,_indexDice:1,map:cc.Node,btnHolder:cc.Node,moves:cc.Label,diceFace:{type:[cc.Label],default:[]}},createDice:function(t){this.dice=new i(t.firstRow,t.secondRow,t.thirdRow),this.changeAtlas(this.dice.diceFace-1),this.countMove=t.moves[0],this._totalMove=t.moves[0],this.moves.getComponent(cc.Label).string=this.countMove+"/"+this._totalMove,this.posStart=t.start,this.newMap=this.map.getComponent("MapController").map,this.destination={row:t.destination[0],col:t.destination[1]},this.currentLevel=t.level,this.diceMovingSteps=[]},setupDice:function(t){this.diceResult=6,this.tilesMap=this.map.getComponent("MapController").tiles,this.node.position=this.tilesMap[t[0]][t[1]].position,this.node.x+=40,this.node.y-=40,this.currentDicePos={row:t[0],col:t[1]},this.diceMovingSteps=[]},moveDice:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.tilesMap=this.map.getComponent("MapController").tiles,!this.isMovingDice){this.btnHolder.active=!1;var l=this.currentDicePos.col,u=this.currentDicePos.row;i||this.diceMovingSteps.push(e);var h=this.dice.diceFace;switch(Number(e)){case r:o.instance.emit("dice"),l>0&&(l-=1,this.Left(),this.node.angle=270);break;case s:o.instance.emit("dice"),l<this.newMap.cols-1&&(l+=1,this.Right(),this.node.angle=90);break;case c:o.instance.emit("dice"),u>0&&(u-=1,this.Up(),this.node.angle=180);break;case a:o.instance.emit("dice"),u<this.newMap.rows-1&&(u+=1,this.Down())}var p=this.dice.diceFace;if(this.node.getComponent(cc.Animation).play(h+" to "+p),this.lastMove=e,this.currentDicePos={row:u,col:l},this.isMovingDice=!0,-1<u<this.newMap.rows&&-1<l<this.newMap.cols){var d=this.tilesMap[u][l].position;d.x+=40,d.y-=40,d?this.node.runAction(cc.sequence(cc.moveTo(.3,d),cc.callFunc(function(){n.countMove--,n.moves.getComponent(cc.Label).string=n.countMove+"/"+n._totalMove,u===n.newMap.destination[0]&&l===n.newMap.destination[1]&&n.getDiceFace()===n.diceResult?n.playEndGame(!0):u===n.destination.row&&l===n.destination.col&&n.getDiceFace()!=n.diceResult?n.playEndGame():0===n.countMove?(o.instance.emit("GAME_OVER",n.currentLevel),n.isMovingDice=!1):n.isMovingDice=!1,n.showBtnDirection(),n.node.angle=0}))):cc.error("\xf4 tr\xean kh\xf4ng h\u1ee3p l\u1ec7.")}}},undoMove:function(){if(!this.isMovingDice)if(this.moves.active=!1,this.diceMovingSteps&&this.diceMovingSteps.length&&this.diceMovingSteps[this.diceMovingSteps.length-1]){this.countMove++,this.moves.getComponent(cc.Label).string=this.countMove+"/"+this._totalMove;var t=this.diceMovingSteps.pop();switch(Number(t)){case r:this.moveDice(null,s,!0),this.countMove++;break;case s:this.moveDice(null,r,!0),this.countMove++;break;case c:this.moveDice(null,a,!0),this.countMove++;break;case a:this.moveDice(null,c,!0),this.countMove++}}else cc.error("Kh\xf4ng c\xf3 l\u01b0\u1ee3t ch\u01a1i tr\u01b0\u1edbc")},playEndGame:function(t){var e=this;this.onBlackHole(),this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){t?(o.instance.emit("COMPLETE_LEVEL",e.currentLevel),e.node.active=!1):(o.instance.emit("GAME_OVER",e.currentLevel),e.node.active=!1),e.isMovingDice=!1,e.btnHolder.active=!1,e.showBtnDirection()})))},onBlackHole:function(){var t=this;o.instance.emit("blackHole"),this.node.oldAnchorX=this.node.anchorX,this.node.oldAnchorY=this.node.anchorY,this.node.anchorX=.5,this.node.anchorY=.5,this.btnHolder.active=!1;var e=cc.rotateBy(1,360).repeatForever(),n=cc.scaleTo(1,0,0),i=cc.spawn(e,n);this.node.runAction(cc.sequence(i,cc.callFunc(function(){t.node.scale=1,t.node.angle=0,t.node.anchorX=t.node.oldAnchorX,t.node.anchorY=t.node.oldAnchorY})))},showBtnDirection:function(){this.isMovingDice||(this.btnHolder.active=!0,this.btnHolder.emit("UPDATE_BTN_CONTROLLER",this.currentDicePos,this.newMap.cols,this.newMap.rows,this.newMap),this.btnHolder.emit("UPDATE_DICE_COLOR",this.currentDicePos,this.destination,this.getFacesText(),this.diceResult),this.onDiceFaces())},onDiceFaces:function(){var t=this;this.diceFace=this.getFacesText().map(function(e,n){t.btnHolder.emit("UPDATE_DICE_NUMBER",e,n+1)})},changeAtlas:function(t){this.node.getComponent(cc.Sprite).spriteFrame=this.atlas.getSpriteFrames()[t]},Left:function(){this._indexDice=this.dice.Left(),this.changeAtlas(this._indexDice)},Right:function(){this._indexDice=this.dice.Right(),this.changeAtlas(this._indexDice)},Up:function(){this._indexDice=this.dice.Up(),this.changeAtlas(this._indexDice)},Down:function(){this._indexDice=this.dice.Down(),this.changeAtlas(this._indexDice)},getFacesText:function(){return this.dice.setFacesText()},getDiceFace:function(){return this.dice.diceFace}}),cc._RF.pop()},{Dice:"Dice",Map:"Map",mEmitter:"mEmitter"}],Dice:[function(t,e,n){"use strict";cc._RF.push(e,"ed4a6QDPp5KSJKQgQ1uOjEy","Dice");var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(e,n,i){o(this,t),this.firstRow=e,this.secondRow=n,this.thirdRow=i,this.diceFace=this.secondRow[1]}return i(t,[{key:"Up",value:function(){return this.firstRow[1]=this.secondRow[1],this.secondRow[1]=this.thirdRow[1],this.thirdRow[1]=7-this.firstRow[1],this.diceFace=this.secondRow[1],this.diceFace-1}},{key:"Down",value:function(){return this.thirdRow[1]=this.secondRow[1],this.secondRow[1]=this.firstRow[1],this.firstRow[1]=7-this.thirdRow[1],this.diceFace=this.secondRow[1],this.diceFace-1}},{key:"Left",value:function(){return this.secondRow[0]=this.secondRow[1],this.secondRow[1]=this.secondRow[2],this.secondRow[2]=7-this.secondRow[0],this.diceFace=this.secondRow[1],this.diceFace-1}},{key:"Right",value:function(){return this.secondRow[2]=this.secondRow[1],this.secondRow[1]=this.secondRow[0],this.secondRow[0]=7-this.secondRow[2],this.diceFace=this.secondRow[1],this.diceFace-1}},{key:"setFacesText",value:function(){return[this.secondRow[2],this.secondRow[0],this.thirdRow[1],this.firstRow[1]].map(String)}}]),t}();e.exports=r,cc._RF.pop()},{}],MapController:[function(t,e,n){"use strict";cc._RF.push(e,"d246fKF5YBG55bibRJetX25","MapController");t("os");var i=t("./otherProcessing.js"),o=t("Map");cc.Class({extends:cc.Component,properties:{atlas:[cc.SpriteAtlas],prefabs:[cc.Prefab],tiles:[cc.Node],spriteDestination:cc.SpriteFrame,map:null},start:function(){},renderMap:function(t){this.destroyChildrenNode(),this.tiles=[];for(var e=0;e<t.rows;e++){this.tiles.push([]);for(var n=0;n<t.cols;n++){var o=cc.instantiate(this.prefabs[0]);this.tiles[e].push(o),o.parent=this.node,o.x=80*n,o.y=80*(t.cols-e);var r=[e,n];(0,i.checkArrayInArray2D)(r,t.wallLeft)&&(o.getChildByName("left").active=!0),(0,i.checkArrayInArray2D)(r,t.wallRight)&&(o.getChildByName("right").active=!0),(0,i.checkArrayInArray2D)(r,t.wallTop)&&(o.getChildByName("top").active=!0),(0,i.checkArrayInArray2D)(r,t.wallBottom)&&(o.getChildByName("bottom").active=!0),r[0]==t.destination[0]&&r[1]==t.destination[1]&&(o.getComponent(cc.Sprite).spriteFrame=this.spriteDestination,o.getChildByName("EndHoleText").active=!0)}}return[t.start[0],t.start[1]]},destroyChildrenNode:function(){for(var t=this.node.children,e=0;e<t.length;++e)"Element"==t[e].name&&t[e].destroy()},createMapWithCsv:function(t){return this.map=new o,this.map.setWall(t.wallLeft,"left"),this.map.setWall(t.wallRight,"right"),this.map.setWall(t.wallTop,"top"),this.map.setWall(t.wallBottom,"bottom"),this.map.setStart(t.start[0],t.start[1]),this.map.setDestination(t.destination[0],t.destination[1]),this.map}}),cc._RF.pop()},{"./otherProcessing.js":"otherProcessing",Map:"Map",os:8}],Map:[function(t,e,n){"use strict";cc._RF.push(e,"dcb8el0DwdBXoY1UqkiB8q1","Map");var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;o(this,t),this.rows=n,this.cols=e,this.wallLeft=[],this.wallRight=[],this.wallTop=[],this.wallBottom=[],this.destination=[5,5],this.start=[0,0]}return i(t,[{key:"setWall",value:function(t,e){var n,i=this,o=[];if(t.forEach(function(t){if(!i.checkPosition(t[0],t[1]))return!1;o.push(t)}),"left"==e)(n=this.wallLeft).push.apply(n,o),o.forEach(function(t){i.checkPosition(t[0],t[1]-1)&&i.wallRight.push([t[0],t[1]-1])});else if("right"==e){var r;(r=this.wallRight).push.apply(r,o),o.forEach(function(t){i.checkPosition(t[0],t[1]+1)&&i.wallLeft.push([t[0],t[1]+1])})}else if("top"==e){var s;(s=this.wallTop).push.apply(s,o),o.forEach(function(t){i.checkPosition(t[0]-1,t[1])&&i.wallBottom.push([t[0]-1,t[1]])})}else{if("bottom"!=e)return!1;var c;(c=this.wallBottom).push.apply(c,o),o.forEach(function(t){i.checkPosition(t[0]+1,t[1])&&i.wallTop.push([t[0]+1,t[1]])})}return!0}},{key:"checkPosition",value:function(t,e){return t>=0&&e>=0&&t<this.rows&&e<this.cols}},{key:"setDestination",value:function(t,e){return!!this.checkPosition(e,t)&&(this.destination=[t,e],!0)}},{key:"setStart",value:function(t,e){return!!this.checkPosition(e,t)&&(this.start=[t,e],!0)}}]),t}();e.exports=r,cc._RF.pop()},{}],SoundController:[function(t,e,n){"use strict";cc._RF.push(e,"0eb05F/i2VCpqW+x/Yu9lQe","SoundController");var i=t("mEmitter");cc.Class({extends:cc.Component,properties:{soundClick:{type:cc.AudioClip,default:null},musicAudio:{type:cc.AudioClip,default:null},musicAudioInGame:{type:cc.AudioClip,default:null},diceRolling:{type:cc.AudioClip,default:null},blackHole:{type:cc.AudioClip,default:null},levelWin:{type:cc.AudioClip,default:null},levelLose:{type:cc.AudioClip,default:null},startRound:{type:cc.AudioClip,default:null},reload:{type:cc.AudioClip,default:null},back:{type:cc.AudioClip,default:null}},onLoad:function(){i.instance.registerEvent("clickSound",this.onSoundButton.bind(this)),i.instance.registerEvent("playMusic",this.onPlayMainMenu.bind(this)),i.instance.registerEvent("playMusicIngame",this.onPlayIngame.bind(this)),i.instance.registerEvent("changeVolume",this.onChangeVolume.bind(this)),i.instance.registerEvent("dice",this.onDiceRolling.bind(this)),i.instance.registerEvent("blackHole",this.onBlackHole.bind(this)),i.instance.registerEvent("levelWin",this.onlevelWin.bind(this)),i.instance.registerEvent("levelLose",this.onlevelLose.bind(this)),i.instance.registerEvent("startRound",this.onStartRound.bind(this)),i.instance.registerEvent("reload",this.onReload.bind(this)),i.instance.registerEvent("back",this.onBack.bind(this)),this.onPlayMainMenu()},onSoundButton:function(){cc.audioEngine.playEffect(this.soundClick,!1);var t=cc.sys.localStorage.getItem("volumeSound");null==t&&(t=1),cc.audioEngine.setEffectsVolume(t/10)},onReload:function(){cc.audioEngine.playEffect(this.reload,!1);var t=cc.sys.localStorage.getItem("volumeSound");null==t&&(t=1),cc.audioEngine.setEffectsVolume(t/10)},onBack:function(){cc.audioEngine.playEffect(this.back,!1);var t=cc.sys.localStorage.getItem("volumeSound");null==t&&(t=1),cc.audioEngine.setEffectsVolume(t/10)},onlevelWin:function(){cc.audioEngine.playEffect(this.levelWin,!1);var t=cc.sys.localStorage.getItem("volumeSound");null==t&&(t=1),cc.audioEngine.setEffectsVolume(t/10)},onlevelLose:function(){cc.audioEngine.playEffect(this.levelLose,!1);var t=cc.sys.localStorage.getItem("volumeSound");null==t&&(t=1),cc.audioEngine.setEffectsVolume(t/10)},onStartRound:function(){cc.audioEngine.playEffect(this.startRound,!1);var t=cc.sys.localStorage.getItem("volumeSound");null==t&&(t=1),cc.audioEngine.setEffectsVolume(t/10)},onBlackHole:function(){cc.audioEngine.playEffect(this.blackHole,!1);var t=cc.sys.localStorage.getItem("volumeSound");null==t&&(t=1),cc.audioEngine.setEffectsVolume(t/10)},onPlayMainMenu:function(){cc.audioEngine.playMusic(this.musicAudio,!0),this.onChangeVolume()},onPlayIngame:function(){cc.audioEngine.playMusic(this.musicAudioInGame,!0),this.onChangeVolume()},onChangeVolume:function(){var t=cc.sys.localStorage.getItem("volumeMusic");null==t&&(t=1),cc.audioEngine.setMusicVolume(t/10)},onDiceRolling:function(){cc.audioEngine.playEffect(this.diceRolling,!1);var t=cc.sys.localStorage.getItem("volumeSound");null==t&&(t=1),cc.audioEngine.setEffectsVolume(t/10)}}),cc._RF.pop()},{mEmitter:"mEmitter"}],gameController:[function(t,e,n){"use strict";cc._RF.push(e,"ba0e2Qxs25Pgqrm265h5PbB","gameController");t("console");var i=t("./otherProcessing.js"),o=(t("Map"),t("mEmitter"));cc.Class({extends:cc.Component,properties:{map:cc.Node,diceController:cc.Node,levelScreen:cc.Node,levels:[cc.TextAsset],diceNode:cc.Node,btnHolder:cc.Node,popupGameWin:cc.Node,popupGameOver:cc.Node,popupSettings:cc.Node,tutorialPopup:cc.Node,_level:0,_isShow:!1},onLoad:function(){null==cc.sys.localStorage.getItem("unlock")&&(this.tutorialPopup.active=!0),o.instance.registerEvent("COMPLETE_LEVEL",this.showPopupGameWin.bind(this)),o.instance.registerEvent("GAME_OVER",this.showPopupGameOver.bind(this))},startGame:function(t){this._level=t,this.dataLevel=this.levels[t].text,this.dataLevel=(0,i.readFile)(this.dataLevel),this.dataLevel.level=t+1,this.createMap(this.dataLevel)},createMap:function(t){this.dice=this.diceController.getComponent("DiceController"),this.newMap=this.map.getComponent("MapController").createMapWithCsv(t),this.posStart=this.map.getComponent("MapController").renderMap(this.newMap),this.diceController.zIndex=999,this.dice.createDice(t),this.dice.setupDice(this.posStart),cc.log(this.newMap)},showPopupGameWin:function(){o.instance.emit("levelWin"),this.blockButton(),this.popupGameWin.active=!0},showPopupGameOver:function(){o.instance.emit("levelLose"),this.blockButton(),this.popupGameOver.active=!0},reloadGame:function(){this.dice.isMovingDice||(o.instance.emit("reload"),this.hidePopup(),this.unblockButton(),this.startGame(this._level))},undoMove:function(){o.instance.emit("back"),this.dice.undoMove()},playNextLevel:function(){var t=this._level+1;t>=this.levels.length?this.backLevelScreen():(o.instance.emit("clickSound"),o.instance.emit("startRound"),this.hidePopup(),this.startGame(t),this.unblockButton())},hidePopup:function(){this.diceNode.active=!0,this.popupGameWin.active=!1,this.popupGameOver.active=!1,this.popupSettings.active=!1,this.btnHolder.active=!1},backLevelScreen:function(){o.instance.emit("clickSound"),o.instance.emit("playMusic"),this.node.parent.active=!1,this.levelScreen.active=!0,this.hidePopup(),this.unblockButton()},closeTutorial:function(){o.instance.emit("clickSound"),this.tutorialPopup.active=!1,this.unblockButton()},onTutorialPopup:function(){o.instance.emit("clickSound"),this.tutorialPopup.active=!0,this.blockButton()},blockButton:function(){for(var t=this.node.parent.getComponentsInChildren(cc.Button),e=0;e<t.length;e++)t[e].interactable=!1},unblockButton:function(){for(var t=this.node.parent.getComponentsInChildren(cc.Button),e=0;e<t.length;e++)t[e].interactable=!0}}),cc._RF.pop()},{"./otherProcessing.js":"otherProcessing",Map:"Map",console:5,mEmitter:"mEmitter"}],levelController:[function(t,e,n){"use strict";cc._RF.push(e,"9cc31tF6a1C248VePDgXT98","levelController");var i=t("mEmitter");cc.Class({extends:cc.Component,properties:{loginScreen:cc.Node,levelUnlock:cc.SpriteFrame,content:cc.Node,prefabLevel:cc.Prefab,scrollView:cc.ScrollView,_countLevel:50},onLoad:function(){this._countLevel=50,this.hideScrollBar()},onBack:function(){i.instance.emit("clickSound"),this.node.active=!1,this.loginScreen.active=!0},loadLevel:function(){this.content.removeAllChildren();var t=cc.sys.localStorage.getItem("unlock");null==t&&(t=1);for(var e=0;e<this._countLevel;e++){for(var n=cc.instantiate(this.prefabLevel),i=0;i<t;i++)e!=i||(n.getComponent(cc.Sprite)._spriteFrame=this.levelUnlock,n.children[0].active=!0,n.children[0].getComponent(cc.Label).string=e+1);this.content.addChild(n)}},hideScrollBar:function(){this.scrollView.verticalScrollBar=null}}),cc._RF.pop()},{mEmitter:"mEmitter"}],level:[function(t,e,n){"use strict";cc._RF.push(e,"2436djvFsNB3puKvet7wqj9","level");var i=t("mEmitter");cc.Class({extends:cc.Component,properties:{},selectedLevel:function(){if(this.node.children[0].active){i.instance.emit("clickSound"),i.instance.emit("startRound"),i.instance.emit("playMusicIngame");var t=this.node.children[0].getComponent(cc.Label).string;t=parseInt(t)-1,i.instance.emit("SELECTED_LEVEL",t)}}}),cc._RF.pop()},{mEmitter:"mEmitter"}],loginController:[function(t,e,n){"use strict";cc._RF.push(e,"bb3cfB7p5VH8pXQ2XkmMdjv","loginController");var i=t("mEmitter");cc.Class({extends:cc.Component,properties:{nameEditBox:cc.EditBox,playButton:cc.Button,settingButton:cc.Button,settingPage:cc.Layout,levelScreen:cc.Node,warningLabel:cc.Label,soundSlider:cc.Slider,soundLabel:cc.Label,soundButton:cc.Button,soundButtonOffSprite:cc.SpriteFrame,soundButtonOnSprite:cc.SpriteFrame,title:cc.Label},onLoad:function(){this.soundSlider.node.on("slide",this.onChangeSound.bind(this)),this.soundButton.node.on("click",this.onButtonClickSound,this)},start:function(){},onChangeSound:function(){var t=10*this.soundSlider.progress.toFixed(1);cc.sys.localStorage.setItem("volumeSound",t),this.soundLabel.string=t;var e=0===t?this.soundButtonOffSprite:this.soundButtonOnSprite;return this.soundButton.getComponent(cc.Sprite).spriteFrame=e,cc.sys.localStorage.setItem("spriteFrame",this.soundButton.getComponent(cc.Sprite).spriteFrame.name),t},onButtonClickSound:function(){i.instance.emit("clickSound");var t=0===this.onChangeSound()?1:0,e=0===t?this.soundButtonOffSprite:this.soundButtonOnSprite;return 0===t?(this.soundButton.getComponent(cc.Sprite).spriteFrame=this.soundButtonOffSprite,cc.sys.localStorage.setItem("spriteFrame",this.soundButtonOffSprite.name),cc.log(this.soundButtonOffSprite.name)):(this.soundButton.getComponent(cc.Sprite).spriteFrame=this.soundButtonOnSprite,cc.sys.localStorage.setItem("spriteFrame",this.soundButtonOnSprite.name),cc.log(this.soundButtonOnSprite.name)),this.soundSlider.progress=t,this.soundLabel.string=10*t.toFixed(1),cc.sys.localStorage.setItem("volumeSound",10*t.toFixed(1)),e},loadDataSound:function(){var t=cc.sys.localStorage.getItem("volumeSound"),e=cc.sys.localStorage.getItem("spriteFrame");cc.log(e),null==t&&(t=1),this.soundLabel.string=t,e===this.soundButtonOnSprite.name?this.soundButton.getComponent(cc.Sprite).spriteFrame=this.soundButtonOnSprite:e===this.soundButtonOffSprite.name?this.soundButton.getComponent(cc.Sprite).spriteFrame=this.soundButtonOffSprite:cc.error("Sprite frame not found:",e),this.soundSlider.progress=t/10},onSubmit:function(){i.instance.emit("clickSound"),this.node.active=!1,this.levelScreen.getComponent("levelController").loadLevel(),this.levelScreen.active=!0},onShowSettingPage:function(){i.instance.emit("clickSound"),this.nameEditBox.enabled=!1,this.node.opacity=108,this.loadDataSound(),this.settingPage.getComponent("settingController").loadDataMusic(),this.settingPage.node.active=!0;for(var t=this.node.getComponentsInChildren(cc.Button),e=0;e<t.length;e++)t[e].interactable=!1},onHideSettingPage:function(){i.instance.emit("clickSound"),this.nameEditBox.enabled=!0,this.settingPage.node.active=!1,this.node.opacity=255;for(var t=this.node.getComponentsInChildren(cc.Button),e=0;e<t.length;e++)t[e].interactable=!0}}),cc._RF.pop()},{mEmitter:"mEmitter"}],mEmitter:[function(t,e,n){"use strict";cc._RF.push(e,"69556ja+GpMF7edM7x7RE0/","mEmitter");var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=t("events"),s=function(){function t(){o(this,t),this._emiter=new r,this._emiter.setMaxListeners(100)}return i(t,[{key:"emit",value:function(){var t;(t=this._emiter).emit.apply(t,arguments)}},{key:"registerEvent",value:function(t,e){this._emiter.on(t,e)}},{key:"registerOnce",value:function(t,e){this._emiter.once(t,e)}},{key:"removeEvent",value:function(t,e){this._emiter.removeListener(t,e)}},{key:"destroy",value:function(){this._emiter.removeAllListeners(),this._emiter=null,t.instance=null}}]),t}();s.instance=null,e.exports=s,cc._RF.pop()},{events:7}],mainController:[function(t,e,n){"use strict";cc._RF.push(e,"f8066Qnw9pNJJIfRH7tdRz3","mainController");var i=t("mEmitter");cc.Class({extends:cc.Component,properties:{levelScreen:cc.Node,gameScreen:cc.Node,content:cc.Node,musicSlider:cc.Slider,musicSliderPrefab:cc.Slider,musicAudio:cc.AudioSource,scrollview:cc.ScrollView},onLoad:function(){var t=this;cc.view.setResizeCallback(function(){t.adjustSize()}),this.adjustSize(),this.hideScrollbar(),i.instance=new i,i.instance.registerEvent("SELECTED_LEVEL",this.onSelectedLevel.bind(this)),i.instance.registerEvent("COMPLETE_LEVEL",this.unlockNextLevel.bind(this))},onSelectedLevel:function(t){this.gameScreen.children[0].getComponent("gameController").startGame(t),this.levelScreen.active=!1,this.gameScreen.active=!0},unlockNextLevel:function(t){var e=this,n=this.gameScreen.children[0].getComponent("gameController").levels.length,i=t+1,o=cc.sys.localStorage.getItem("unlock");o=parseInt(o),i>n?(cc.sys.localStorage.setItem("unlock",t),this.levelScreen.children[3].active=!0,this.scheduleOnce(function(){e.levelScreen.children[3].active=!1},5)):t<o?cc.sys.localStorage.setItem("unlock",o):cc.sys.localStorage.setItem("unlock",i),this.levelScreen.getComponent("levelController").loadLevel()},adjustSize:function(){var t=cc.view.getVisibleSize(),e=t.width/t.height,n=t.width,i=t.height;e<2?i=t.width/2:n=2*t.height,this.node.width=n,this.node.height=i},hideScrollbar:function(){this.scrollview.horizontalScrollBar=null,this.scrollview.verticalScrollBar=null}}),cc._RF.pop()},{mEmitter:"mEmitter"}],otherProcessing:[function(t,e,n){"use strict";function i(t){return String(t).split(".").map(function(t){return parseInt(t)})}cc._RF.push(e,"d1d720zAB5JSogGAm6DstP7","otherProcessing"),Object.defineProperty(n,"__esModule",{value:!0}),n.checkArrayInArray2D=function(t,e){for(var n=0;n<e.length;n++){var i=e[n];if(i.length===t.length){for(var o=!0,r=0;r<i.length;r++)if(i[r]!==t[r]){o=!1;break}if(o)return!0}}return!1},n.stringToArray=i,n.readFile=function(t){var e=t.split("\n"),n={},o=e[1].split(",");n.start=i(o[0]),n.destination=i(o[1]),n.firstRow=i(o[6]),n.secondRow=i(o[7]),n.thirdRow=i(o[8]),n.moves=i(o[9]);for(var r=[],s=[],c=[],a=[],l=1;l<e.length;l++)""!=(t=e[l].split(","))[2]&&r.push(i(t[2])),""!=t[3]&&s.push(i(t[3])),""!=t[4]&&c.push(i(t[4])),""!=t[5]&&a.push(i(t[5]));return n.wallLeft=r,n.wallRight=s,n.wallTop=c,n.wallBottom=a,n},cc._RF.pop()},{}],pausePageController:[function(t,e,n){"use strict";cc._RF.push(e,"5299e7a7HlCp5LOSe4Kyrmr","pausePageController");var i=t("mEmitter");cc.Class({extends:cc.Component,properties:{playButton:cc.Button,backButton:cc.Button,soundSliderPrefab:cc.Slider,musicSliderPrefab:cc.Slider,LoginPage:cc.Layout,musicLabel:cc.Label,musicButton:cc.Button,musicButtonOffSprite:cc.SpriteFrame,musicButtonOnSprite:cc.SpriteFrame,LevelScreen:cc.Node,gamePage:cc.Node,soundSliderPause:cc.Slider,soundLabelPause:cc.Label,soundButtonPause:cc.Button,soundButtonOffSprite:cc.SpriteFrame,soundButtonOnSprite:cc.SpriteFrame},onLoad:function(){this.musicSliderPrefab.node.on("slide",this.onSendMusicSliderChange,this),this.musicButton.node.on("click",this.onMusicPauseButtonClick,this),this.soundSliderPause.node.on("slide",this.onChangeSound.bind(this)),this.soundButtonPause.node.on("click",this.onButtonClickSound,this)},onChangeSound:function(){var t=10*this.soundSliderPause.progress.toFixed(1);cc.sys.localStorage.setItem("volumeSound",t),this.soundLabelPause.string=t;var e=0===t?this.soundButtonOffSprite:this.soundButtonOnSprite;return this.soundButtonPause.getComponent(cc.Sprite).spriteFrame=e,cc.sys.localStorage.setItem("spriteFrame",this.soundButtonPause.getComponent(cc.Sprite).spriteFrame.name),t},onButtonClickSound:function(){i.instance.emit("clickSound");var t=0===this.onChangeSound()?1:0,e=0===t?this.soundButtonOffSprite:this.soundButtonOnSprite;return 0===t?(this.soundButtonPause.getComponent(cc.Sprite).spriteFrame=this.soundButtonOffSprite,cc.sys.localStorage.setItem("spriteFrame",this.soundButtonPause.getComponent(cc.Sprite).spriteFrame.name)):(this.soundButtonPause.getComponent(cc.Sprite).spriteFrame=this.soundButtonOnSprite,cc.sys.localStorage.setItem("spriteFrame",this.soundButtonPause.getComponent(cc.Sprite).spriteFrame.name)),this.soundSliderPause.progress=t,this.soundLabelPause.string=10*t.toFixed(1),cc.sys.localStorage.setItem("volumeSound",10*t.toFixed(1)),e},loadData:function(){var t=cc.sys.localStorage.getItem("volumeSound"),e=cc.sys.localStorage.getItem("spriteFrame");null==t&&(t=1),this.soundLabelPause.string=t,e===this.soundButtonOnSprite.name?this.soundButtonPause.getComponent(cc.Sprite).spriteFrame=this.soundButtonOnSprite:e===this.soundButtonOffSprite.name?this.soundButtonPause.getComponent(cc.Sprite).spriteFrame=this.soundButtonOffSprite:cc.error("Sprite frame not found:",e),this.soundSliderPause.progress=t/10},start:function(){},onBack:function(){i.instance.emit("clickSound"),this.onUnblock(),this.node.active=!1},onBackMainMenu:function(){i.instance.emit("clickSound"),i.instance.emit("playMusic"),this.onUnblock(),this.node.active=!1,this.gamePage.active=!1,this.LevelScreen.active=!0},onUnblock:function(){for(var t=this.gamePage.getComponentsInChildren(cc.Button),e=0;e<t.length;e++)t[e].interactable=!0},onSendMusicSliderChange:function(t){i.instance.emit("changeVolume");var e=10*t.progress.toFixed(1);cc.sys.localStorage.setItem("volumeMusic",e),this.musicLabel.string=e;var n=0===e?this.musicButtonOffSprite:this.musicButtonOnSprite;this.musicButton.getComponent(cc.Sprite).spriteFrame=n,cc.sys.localStorage.setItem("spriteFrameMusic",this.musicButton.getComponent(cc.Sprite).spriteFrame.name)},onMusicPauseButtonClick:function(){i.instance.emit("clickSound");var t=0===this.musicSliderPrefab.progress?1:0;0===t?(this.musicButton.getComponent(cc.Sprite).spriteFrame=this.musicButtonOffSprite,cc.sys.localStorage.setItem("spriteFrameMusic",this.musicButtonOffSprite.name)):(this.musicButton.getComponent(cc.Sprite).spriteFrame=this.musicButtonOnSprite,cc.sys.localStorage.setItem("spriteFrameMusic",this.musicButtonOnSprite.name)),this.musicSliderPrefab.progress=t,this.musicLabel.string=10*t.toFixed(1),cc.sys.localStorage.setItem("volumeMusic",10*t.toFixed(1)),i.instance.emit("changeVolume")},loadDataMusic:function(){var t=cc.sys.localStorage.getItem("volumeMusic"),e=cc.sys.localStorage.getItem("spriteFrameMusic");null==t&&(t=1),null==e&&(e=this.musicButtonOffSprite),this.musicLabel.string=t,e===this.musicButtonOnSprite.name?this.musicButton.getComponent(cc.Sprite).spriteFrame=this.musicButtonOnSprite:e===this.musicButtonOffSprite.name?this.musicButton.getComponent(cc.Sprite).spriteFrame=this.musicButtonOffSprite:cc.error("Sprite frame not found:",e),this.musicSliderPrefab.progress=t/10}}),cc._RF.pop()},{mEmitter:"mEmitter"}],settingController:[function(t,e,n){"use strict";cc._RF.push(e,"f1ed86nuC5Kh43SoiJOtG9s","settingController");var i=t("mEmitter");cc.Class({extends:cc.Component,properties:{musicSlider:cc.Slider,soundSlider:cc.Slider,loginPage:cc.Layout,pausePage:cc.Layout,musicLabel:cc.Label,musicButton:cc.Button,musicButtonOffSprite:cc.SpriteFrame,musicButtonOnSprite:cc.SpriteFrame,gameScreen:cc.Node,levelScreen:cc.Node},onLoad:function(){this.musicSlider.node.on("slide",this.onSendMusicSliderChange,this),this.musicButton.node.on("click",this.onMusicButtonClick,this)},start:function(){},onPauseButtonBoard:function(){i.instance.emit("clickSound"),this.pausePage.getComponent("pausePageController").loadData(),this.pausePage.getComponent("pausePageController").loadDataMusic();for(var t=this.gameScreen.getComponentsInChildren(cc.Button),e=0;e<t.length;e++)t[e].interactable=!1;this.pausePage.node.active=!0},onSendMusicSliderChange:function(){i.instance.emit("changeVolume");var t=10*this.musicSlider.progress.toFixed(1);cc.sys.localStorage.setItem("volumeMusic",t),this.musicLabel.string=t;var e=0===t?this.musicButtonOffSprite:this.musicButtonOnSprite;this.musicButton.getComponent(cc.Sprite).spriteFrame=e,cc.sys.localStorage.setItem("spriteFrameMusic",this.musicButton.getComponent(cc.Sprite).spriteFrame.name)},onMusicButtonClick:function(){i.instance.emit("clickSound");var t=0===this.musicSlider.progress?1:0;console.log(t),0===t?(this.musicButton.getComponent(cc.Sprite).spriteFrame=this.musicButtonOffSprite,cc.sys.localStorage.setItem("spriteFrameMusic",this.musicButtonOffSprite.name)):(this.musicButton.getComponent(cc.Sprite).spriteFrame=this.musicButtonOnSprite,cc.sys.localStorage.setItem("spriteFrameMusic",this.musicButtonOnSprite.name)),this.musicSlider.progress=t,this.musicLabel.string=10*t.toFixed(1),cc.sys.localStorage.setItem("volumeMusic",10*t.toFixed(1)),i.instance.emit("changeVolume")},loadDataMusic:function(){var t=cc.sys.localStorage.getItem("volumeMusic"),e=cc.sys.localStorage.getItem("spriteFrameMusic");null==t&&(t=1),null==e&&(e=this.musicButtonOffSprite),this.musicLabel.string=t,e===this.musicButtonOnSprite.name?this.musicButton.getComponent(cc.Sprite).spriteFrame=this.musicButtonOnSprite:e===this.musicButtonOffSprite.name?this.musicButton.getComponent(cc.Sprite).spriteFrame=this.musicButtonOffSprite:cc.error("Sprite frame not found:",e),this.musicSlider.progress=t/10}}),cc._RF.pop()},{mEmitter:"mEmitter"}]},{},["BtnDirection","Dice","DiceController","Map","MapController","SoundController","gameController","level","levelController","loginController","mEmitter","mainController","otherProcessing","pausePageController","settingController"]);